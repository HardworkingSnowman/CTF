#!/usr/bin/env python3

from Crypto.Util.number import getPrime, getRandomRange, GCD, long_to_bytes
import gmpy


n = 9538601039837440178261927169374130678758730744912936274728484335657913912145100217681955323973755948966368931646508068188903697598732297482662223112743544285222281158246055791351392206441202488175105009693655429379738971482455241095718722728013165344940100944530159210119817947390489235901206958570705164281600380640804661421382283193295122963524007177476158256734789917193861878635645812627268498613722092693060519241820024498856662687320519083885411190858282142701836173435459927762237853780703041038018877370565066048892184850356695892450491880774940543114467804277802895124004320934134192414239324028165803935713397443337571297810135296763368842070892004922725056117782311768067121341524178720717102150470679356701431638450872326205314643121197913447938272182395736167656548835442629334778890466779665276015670565122876751065058876429135275321284421486930932707474709737934240384842014695801024531241368362245386893367961374340301217483885903924451134665794688182286471
y = 8264768105228100481577267072448025764206717495292635640548187615478921502591166867926645907885293815798986305618351031289526156552546316112734888421721022944610431630948678880527683655976700732071767271644254104822242440244856474074932916866952689752576144029541317364277441690889758046334044077420303436132682617665286631795822941962246905272014594712907689569897607096029578372187936384369258559296928686343713054018693820199907890512547753290343853192561337127984951587298851111880417423370071611895700903905028598861667894195853434821242114002829465893289563395881010780047209390239218588429142336538527264270936464671811860921185699063325544406502512793507140928711741146075451964817644676901975654169460518833765167920659231284413235632717428454511512999625511966158848018191303535143985321971197232240134759012227244462755119081411501424244323304153732532175977685171526604812339610436925089522681050455874677358294229793230878911924504571494550831084819068672614463
c = 55027475114272357611162368016797629654665422519805373998932368075311161251900473826626562513710662298066586943825393109964409902948432230325381193469392908615585060732623651087521433143387367092515017821688332831932003406059575233215520159215163406998447286039603109813310800725152715416138056961184302262046302847817012063695701746907435524401783740189082972265276659061781199056289829256398927880276622301916705345901449314339838610446749193219016172028177830861392352866423064841869375383417666450323717006381869280514743793131216286221415621698319452790831313361692087744090096127392613773011098415822738999744916897345745733370949190421587906064120278438460641195780190882150954212576557441193218852751583146445936689723398018554037754216190856525581878375139890413870052900508454373865035779025694813553487395371375361071696421051763400321848549981865265961660656973761942047083119582785582256646254059307097521517158093476037072591198805867350780519280960453623240991871566645413005277747084834540060098765132282976488242779130150348215016384308110081706826857839867631082902393342336598283245894686616941045609371372574231323015877803976061852957443989487830675744990849456904694669301666694711289418479149660567852033549393648740008147955023015235627799871743253898767149015333944847588402498956173096577645166244818238556428020248697548664328185734864428159966212308590819334203171860074270151300815669623631857589738136249377976805220796759026321477352706778887561776095335183766873209965631458235754919616758427072135284208482837711944418892790249795198495988103406030914765948691409744739557220435189373755735916358293551460382536388410428629642945460176784913464230936520173101478157633960182967911025220193241198664764003800664747601391465809689797991730034407950838917268489191144520796761683121260686309522626911760325296714854901922960257570139476975297540411416167650646560883915966420597090157025645331965023967717296358487600

p = 6639092410065305787560527939072166169737886641489586983166779477657101562311224207614156710297824465691083137668110267845509047349682835779194895420713885762152285525767283974531608903968448821830798696205352513949051021619066949320845188387166610849508890350965274825693649587359177162745248958344302181077205541648168821300878087935077786066878650862334397494512797846867376882506453886644097484687319
q = 1436732681318953537354730674963357795976056940278405252077526806344146685409859023153141493061309694268622495206057462128019437630931950464692937938388603638347005733323807263107382779935188441319210487032637430948255254427550142923892890790121418831659118234103088971471378936071526843358553410660674599611701155290613544190015665361053988954099066154477345138129514894608343731833356791899472763398587420804695502512011756884064707125376501382096972480414630014116307516911585643895016910231582803602900752343822745361064170694302620691905201203985142581196377249267409

m1 = 20650192793194585203616251169778544032358160756133501


def exgcd(a, b):
    if a == 0:
        return (b, 0, 1)
    else:
        g, y, x = exgcd(b % a, a)
        return (g, x - (b // a) * y, y)


def modinv(a, m):
    g, x, y = exgcd(a, m)
    if g != 1:
        raise Exception('modular inverse does not exist')
    return x % m


if False:
    for i in range(2**31+1, 2**30, -2):
        if (p-1) % i == 0:
            print('factor: ', i)

m1 = (p-1) // 2107290833 // 2091478141 // 2068334231 // 2061384947
m1 = m1 // 2057142809 // 2042763589 // 2010339349 // 1994350279 // 1976638099
m1 = m1 // 1934899697 // 1871324603 // 1841903251 // 1827860653 // 1801640611
m1 = m1 // 1793037017 // 1792843139 // 1775029931 // 1755290707 // 1716993337
m1 = m1 // 1668074339 // 1639460437 // 1619354783 // 1591238041 // 1551738469
m1 = m1 // 1545038123 // 1517149619 // 1485789491 // 1479736039 // 1427398603
m1 = m1 // 1421854487 // 1356393079 // 1315971287 // 1314053207 // 1268196691
m1 = m1 // 1241159693 // 1227656359 // 1177411453 // 1114268977 // 2
# m1 = b'71on_&_PoHl19_H3Llm4N}'

c1 = pow(c, m1, n)  # pow(y, m0*m1, n)

print(pow(17, (p-1) * (q-1) // 3123, n))
